<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Teste M√≥dulo 3 ‚Äì Sistemas de Seguran√ßa, Conforto e Repara√ß√£o</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f7fb;
  color: #222;
  margin: 0;
  padding: 20px;
}
.container {
  max-width: 980px;
  margin: auto;
  background: #fff;
  padding: 24px;
  border-radius: 12px;
  box-shadow: 0 8px 26px rgba(0,0,0,.08);
}
h1 { font-size: 1.5rem; color: #004a80; text-align: center; }
.quiz-question { margin: 18px 0; padding: 16px; border-radius: 10px; border: 1px solid #dce3f0; background: #f9faff; }
.quiz-question p { font-weight: 600; margin-bottom: 8px; color: #004a80; }
label { display: block; margin: 6px 0; cursor: pointer; }
textarea { width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #ccc; font-size: 0.95rem; }
button { padding: 10px 16px; border-radius: 10px; border: none; cursor: pointer; font-weight: 700; margin-top: 12px; }
.primary { background: #004a80; color: #fff; }
.secondary { background: #e0e6f0; color: #222; }
.small { font-size: 0.85rem; color: #666; }
#resultadoBox { margin-top: 20px; padding: 12px; background: #e6ffed; border: 1px solid #b2f5ea; border-radius: 8px; display: none; }
.top-btn { display: inline-block; margin-bottom: 15px; text-decoration: none; background: #004a80; color: #fff; padding: 8px 14px; border-radius: 8px; font-weight: 600; }
.top-btn:hover { background: #00345d; }
</style>
</head>

<body>
<div class="container">
  <a href="curso-Auto-Nmicra.html" class="top-btn">‚¨Ö Voltar ao Curso</a>
  <h1>Teste M√≥dulo 3 ‚Äì Sistemas de Seguran√ßa, Conforto e Repara√ß√£o</h1>

  <form id="quizForm">
    <div class="quiz-question">
      <p>Identifica√ß√£o do formando</p>
      <input id="alunoName" placeholder="Nome completo" required>
      <input id="alunoEmail" placeholder="Email" required>
      <p class="small">Preenche os dados para registo local.</p>
    </div>

    <div id="perguntasTeoricas"></div>

    <div class="quiz-question">
      <p><strong>üß© Estudo de Caso Pr√°tico</strong></p>
      <p>Um Nissan Micra apresenta falha intermitente nos vidros el√©tricos e consumo parasita da bateria √† noite. O ABS n√£o acusa falhas no scanner, mas a luz SRS permanece acesa ap√≥s reset.</p>
      <label><input type="radio" name="caso" value="a"> Substituir todos os m√≥dulos eletr√≥nicos sem diagn√≥stico</label>
      <label><input type="radio" name="caso" value="b"> Realizar medi√ß√£o de corrente parasita, testar vidros e BCM, limpar c√≥digos SRS</label>
      <label><input type="radio" name="caso" value="c"> Apenas recarregar bateria e desligar ABS</label>
      <label><input type="radio" name="caso" value="d"> Resetar ECU e BCM sem verificar sinais de sensores</label>
      <p class="small">Descreva passo a passo como resolveria este caso, incluindo ferramentas e justificativa t√©cnica:</p>
      <textarea name="resolucao" rows="6" required></textarea>
    </div>

    <button type="button" id="submitQuiz" class="primary">Submeter Teste</button>
    <button type="reset" id="resetQuiz" class="secondary">Limpar Respostas</button>
    <div id="resultadoBox"></div>
  </form>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const perguntas = [
    // Cap√≠tulo 7 ‚Äì ABS/ESP e SRS
    "1Ô∏è‚É£ Qual √© a fun√ß√£o principal do ABS?",
    "2Ô∏è‚É£ Como o ESP mant√©m a estabilidade do ve√≠culo?",
    "3Ô∏è‚É£ Qual a tens√£o esperada de um sensor de roda do ABS?",
    "4Ô∏è‚É£ O que indica o DTC C0035?",
    "5Ô∏è‚É£ Qual ferramenta √© indicada para testar sensores ABS/ESP?",
    "6Ô∏è‚É£ Antes de testar o SRS, qual procedimento obrigat√≥rio?",
    "7Ô∏è‚É£ O que pode causar luz SRS acesa?",
    "8Ô∏è‚É£ Qual a fun√ß√£o do clock spring no SRS?",
    "9Ô∏è‚É£ Como se mede a resist√™ncia correta na rede CAN?",
    "10Ô∏è‚É£ Qual falha comum na linha LIN Bus?",
    // Cap√≠tulo 8 ‚Äì Climatiza√ß√£o, el√©tricos do habit√°culo e parasitas
    "11Ô∏è‚É£ Sintoma de compressor de AC n√£o acionando?",
    "12Ô∏è‚É£ Causa prov√°vel de ar n√£o resfriar?",
    "13Ô∏è‚É£ Procedimento correto para testar atuadores de porta de ar?",
    "14Ô∏è‚É£ Sintoma de vidro el√©trico queimado?",
    "15Ô∏è‚É£ O que verificar em falha intermitente do painel?",
    "16Ô∏è‚É£ Origem comum de consumo parasita elevado √† noite?",
    "17Ô∏è‚É£ Ferramenta para medir corrente parasita?",
    "18Ô∏è‚É£ Procedimento para localizar fuga de corrente?",
    "19Ô∏è‚É£ Sintoma t√≠pico de falha no BCM?",
    "20Ô∏è‚É£ A√ß√£o preventiva para evitar falhas em sistemas eletr√≥nicos?",
    // Cap√≠tulo 9 ‚Äì Repara√ß√£o, manuten√ß√£o preventiva e estudo de caso
    "21Ô∏è‚É£ O que deve ser feito antes de substituir sensores eletr√≥nicos?",
    "22Ô∏è‚É£ Por que programar a ECU ap√≥s substitui√ß√£o?",
    "23Ô∏è‚É£ Procedimento ap√≥s instalar novo atuador?",
    "24Ô∏è‚É£ Qual item de manuten√ß√£o previne ruptura de correia?",
    "25Ô∏è‚É£ Fluido a verificar periodicamente no Micra?",
    "26Ô∏è‚É£ Como monitorar falhas intermitentes nos m√≥dulos eletr√≥nicos?",
    "27Ô∏è‚É£ Qual teste confirma comunica√ß√£o correta entre ECU e BCM?",
    "28Ô∏è‚É£ Benef√≠cio de registrar cada interven√ß√£o detalhadamente?",
    "29Ô∏è‚É£ Passo inicial em estudo de caso de falha no AC?",
    "30Ô∏è‚É£ Passo inicial em estudo de caso de consumo parasita da bateria?"
  ];

  const alternativas = [
    // 7.1 e 7.2
    ["a) Bloquear rodas em frenagem", "b) Evitar bloqueio de rodas", "c) Reduzir consumo de combust√≠vel", "d) Controlar ABS via ECU"],
    ["a) Aumenta torque do motor", "b) Aplica travagem seletiva e ajusta torque", "c) Desliga motor em curva", "d) Controla climatiza√ß√£o do habit√°culo"],
    ["a) 0,1‚Äì0,3 V", "b) 0,5‚Äì1,2 V AC vari√°vel", "c) 5 V constante", "d) 12 V DC"],
    ["a) Sensor de roda dianteira esquerda com falha", "b) Sensor de √¢ngulo do volante", "c) Sensor de pedal de trav√£o", "d) Centralina SRS com erro"],
    ["a) Mult√≠metro comum", "b) Oscilosc√≥pio", "c) Scanner apenas", "d) Ferramenta de press√£o do combust√≠vel"],
    ["a) Ligar motor e acelerar", "b) Desligar bateria e aguardar 10 minutos", "c) Pressionar pedal 5 vezes", "d) Resetar ABS"],
    ["a) Fus√≠vel queimado", "b) Conector solto ou clock spring danificado", "c) Sensor de temperatura", "d) Falha na bomba de combust√≠vel"],
    ["a) Conectar m√≥dulo ABS", "b) Manter comunica√ß√£o CAN", "c) Permitir rota√ß√£o do volante sem romper fios", "d) Ajustar torque do motor"],
    ["a) 120 Œ© total", "b) 60 Œ© entre pinos OBD", "c) 12 V constante", "d) 0 V em repouso"],
    ["a) Falta de termina√ß√£o ou m√≥dulo mestre defeituoso", "b) Tens√£o baixa do alternador", "c) Fus√≠vel queimado", "d) Sensor de press√£o do √≥leo"],
    // 8.1 a 8.3
    ["a) Fus√£o interna do compressor", "b) Rel√© ou fus√≠vel defeituoso", "c) Sensor de press√£o funcionando", "d) Circuito aberto no painel"],
    ["a) Motor desligado", "b) Falta de g√°s refrigerante ou vazamento", "c) Atuador funcionando", "d) Filtro de cabine limpo"],
    ["a) Substituir sensor de temperatura", "b) Testar e substituir atuadores de porta de ar", "c) Medir resist√™ncia do fus√≠vel", "d) Resetar BCM"],
    ["a) N√£o sobe/descem", "b) Lentid√£o no ar condicionado", "c) Luz SRS acesa", "d) Trav√µes bloqueados"],
    ["a) Motor queimado", "b) Falha no BCM ou alimenta√ß√£o", "c) Fus√≠vel queimado", "d) Sensor EGR"],
    ["a) Ilumina√ß√£o interna ou porta mal fechada", "b) Motor em curto", "c) Alternador desligado", "d) Falha na ECU"],
    ["a) Mult√≠metro", "b) Pin√ßa amperim√©trica ou mult√≠metro em s√©rie", "c) Scanner", "d) Oscilosc√≥pio apenas"],
    ["a) Desconectar bateria apenas", "b) Remover fus√≠veis sequencialmente e testar circuitos", "c) Substituir BCM", "d) Recarregar bateria"],
    ["a) Luz do ABS acesa", "b) Falha intermitente em vidros ou travas", "c) Ru√≠do do motor", "d) Luz SRS apagada"],
    ["a) Substituir m√≥dulo sem teste", "b) Monitoramento peri√≥dico de DTCs e inspe√ß√£o de cabos", "c) Resetar ECU", "d) N√£o fazer manuten√ß√£o preventiva"],
    // 9.1 a 9.3
    ["a) Ligar o motor", "b) Desligar bateria, usar EPI e ferramentas certificadas", "c) Substituir e ligar imediatamente", "d) Apenas recalibrar"],
    ["a) Ajustar torque do motor", "b) Integrar corretamente o m√≥dulo no sistema", "c) Aumentar press√£o do fluido", "d) Evitar falha no ABS"],
    ["a) Teste de press√£o do freio", "b) Verificar alimenta√ß√£o e funcionamento", "c) Apenas observar LEDs", "d) Substituir fus√≠vel"],
    ["a) Fluido de trav√£o", "b) Correia de distribui√ß√£o", "c) Filtro de ar", "d) Sensor de temperatura"],
    ["a) √ìleo do motor, l√≠quido de trav√µes e refrigerante", "b) Fluido de dire√ß√£o hidr√°ulica apenas", "c) Combust√≠vel", "d) Fluido da embraiagem"],
    ["a) Monitoramento de DTCs e inspe√ß√£o de cabos", "b) Recarregar bateria", "c) Apenas observar sinais visuais", "d) Teste de press√£o do √≥leo"],
    ["a) Medir rota√ß√£o do motor", "b) Testes din√¢micos via scanner e leitura DTCs", "c) Substituir todos sensores", "d) Resetar BCM"],
    ["a) Aumentar torque do motor", "b) Garantir rastreabilidade e registro detalhado", "c) Substituir fus√≠veis preventivamente", "d) Medir corrente do alternador"],
    ["a) Substituir ECU", "b) Identificar sintoma, isolar sistema e testar componentes", "c) Resetar m√≥dulos", "d) Desligar bateria e ligar novamente"],
    ["a) Apenas recarregar bateria", "b) Medir corrente em s√©rie, localizar parasita e reparar", "c) Substituir BCM sem teste", "d) Resetar ABS"]
  ];

  const answers = {
    q1:'b', q2:'b', q3:'b', q4:'a', q5:'b',
    q6:'b', q7:'b', q8:'c', q9:'b', q10:'a',
    q11:'b', q12:'b', q13:'b', q14:'a', q15:'b',
    q16:'a', q17:'b', q18:'b', q19:'b', q20:'b',
    q21:'b', q22:'b', q23:'b', q24:'b', q25:'a',
    q26:'a', q27:'b', q28:'b', q29:'b', q30:'b'
  };

  const perguntasTeoricas = document.getElementById('perguntasTeoricas');
  perguntas.forEach((pergunta, i) => {
    const div = document.createElement('div');
    div.className = 'quiz-question';
    div.innerHTML = `<p>${pergunta}</p>` +
      alternativas[i].map((alt, j) => {
        const letra = ['a','b','c','d'][j];
        return `<label><input type="radio" name="q${i+1}" value="${letra}"> ${alt}</label>`;
      }).join('');
    perguntasTeoricas.appendChild(div);
  });

  const submitBtn = document.getElementById('submitQuiz');
  const resultBox = document.getElementById('resultadoBox');

  submitBtn.addEventListener('click', () => {
    const name = document.getElementById('alunoName').value.trim();
    const email = document.getElementById('alunoEmail').value.trim();
    if (!name || !email) return alert("Preenche nome e email antes de submeter.");

    let score = 0;
    for (let i = 1; i <= 30; i++) {
      const sel = document.querySelector(`input[name="q${i}"]:checked`);
      if (sel && sel.value === answers[`q${i}`]) score++;
    }
    const percent = Math.round((score / 30) * 100);

    resultBox.style.display = 'block';
    resultBox.innerHTML = `<p><strong>Obrigado, ${name}.</strong></p>
      <p>Pontua√ß√£o: <strong>${score}</strong> / 30 ‚Äî <strong>${percent}%</strong></p>
      <p class="small">As respostas foram registadas localmente (sem liga√ß√£o externa).</p>`;
    submitBtn.disabled = true;
  });
});
</script>
</body>
</html>
