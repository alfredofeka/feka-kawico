<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ALFEKA — Portal Técnico (Home)</title>
<style>
  /* (Estilo condensado: industrial / futurista — idêntico ao layout anterior) */
  :root{--bg:#0b0f14;--accent:#0aa4ff;--accent2:#00ffd1;--muted:#9aa6b2;--white:#e9f3ff}
  *{box-sizing:border-box}body{margin:0;font-family:Inter,Arial;background:linear-gradient(180deg,#05060a,#0b0f14);color:var(--white)}
  .wrap{max-width:1200px;margin:28px auto;padding:20px;display:grid;grid-template-columns:1fr 360px;gap:24px}
  .header{display:flex;justify-content:space-between;align-items:center}
  .logo{display:flex;align-items:center;gap:12px}
  .logo .mark{width:56px;height:56px;border-radius:10px;background:linear-gradient(135deg,#002a4e,#004a80);display:flex;align-items:center;justify-content:center;font-weight:700}
  nav{display:flex;gap:10px}
  a.btn{background:linear-gradient(90deg,var(--accent),#0066cc);padding:10px 14px;border-radius:10px;color:#021;font-weight:700;text-decoration:none}
  .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:20px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}
  .side{position:sticky;top:28px;padding:18px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));min-height:300px}
  .micro{background:transparent;border:1px solid rgba(255,255,255,0.04);padding:8px 10px;border-radius:8px;color:var(--muted);cursor:pointer}
  footer{text-align:center;color:var(--muted);grid-column:1/-1;margin-top:18px;padding:6px}
</style>
</head>
<body>
  <div class="wrap">
    <header class="header">
      <div class="logo">
        <div class="mark">ALF</div>
        <div>
          <div style="font-weight:800">ALFEKA</div>
          <div style="color:var(--muted);font-size:13px">Cursos Técnicos · Construção Metálica & Offshore</div>
        </div>
      </div>
      <nav>
        <a class="btn" href="index.html">Home</a>
        <a class="btn" href="curso-metal.html">Curso: Construção Metálica</a>
        <a class="btn" href="curso-offshore.html">Curso: Offshore</a>
        <a class="btn" href="inscricao.html">Inscrição</a>
      </nav>
    </header>

    <main class="card">
      <h2 style="margin-top:0">ALFEKA — Portal Técnico (Offline)</h2>
      <p style="color:var(--muted)">Plataforma pensada para funcionar totalmente local (offline). Use os botões acima para navegar entre as páginas do curso e para se inscrever. O login é local e persistente.</p>

      <section style="display:flex;gap:12px;margin-top:16px;align-items:center">
        <button id="btnOpen" class="micro">Iniciar sessão / Perfil</button>
        <button id="btnSeed" class="micro">Carregar Exemplo (demo)</button>
        <a href="inscricao.html" class="micro" style="text-decoration:none">Ir para Inscrição</a>
      </section>

      <hr style="border:none;height:1px;background:rgba(255,255,255,0.03);margin:18px 0">

      <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
        <div class="card">
          <h3 style="margin-top:0">Resumo Semana 1</h3>
          <p style="color:var(--muted)">Conceitos gerais sobre construção metálica e offshore; normas; segurança; tipologias; principais players.</p>
          <a class="btn" href="curso-metal.html">Abrir Conteúdo Semana 1</a>
        </div>
        <div class="card">
          <h3 style="margin-top:0">Ferramentas Rápidas</h3>
          <p style="color:var(--muted)">Exportar inscritos, gerar relatórios locais e gerir progresso — tudo offline.</p>
          <button id="btnExportCSV" class="micro">Exportar inscritos (CSV)</button>
        </div>
      </div>
    </main>

    <aside class="side card">
      <div id="userBlock">
        <div style="display:flex;align-items:center;gap:12px">
          <div style="width:64px;height:64px;border-radius:12px;background:linear-gradient(135deg,#00172b,#003b5a);display:flex;align-items:center;justify-content:center;font-weight:800">AL</div>
          <div>
            <div id="userName" style="font-weight:800">Visitante</div>
            <div id="userStatus" style="color:var(--muted)">Offline</div>
          </div>
        </div>

        <div style="margin-top:12px">
          <div style="color:var(--muted);font-size:13px">Progresso</div>
          <div style="height:10px;margin-top:6px;background:rgba(255,255,255,0.03);border-radius:999px;overflow:hidden">
            <div id="progressBar" style="width:12%;height:10px;background:linear-gradient(90deg,#00ffd1,#0aa4ff)"></div>
          </div>
        </div>

        <div style="margin-top:12px;display:flex;gap:8px">
          <button id="btnProfile" class="micro">Ver Perfil</button>
          <button id="btnLogout" class="micro">Sair</button>
        </div>
      </div>

      <div style="margin-top:14px;color:var(--muted);font-size:13px">
        <strong>Atalhos</strong>
        <ul style="padding-left:16px;margin-top:6px">
          <li>• Curso Metal</li>
          <li>• Curso Offshore</li>
          <li>• Página de Inscrição</li>
        </ul>
      </div>
    </aside>

    <footer>© 2025 ALFEKA — Uso local / Intranet · Desenvolvido para treinamento técnico</footer>
  </div>

  <!-- modal -->
  <div id="modal" style="position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.6);z-index:9999">
    <div style="width:90%;max-width:420px;background:#081223;padding:18px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)">
      <h3 style="color:#00ffd1;margin:0 0 8px">Sessão — ALFEKA</h3>
      <input id="inputName" placeholder="Nome completo" style="width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--white);margin-bottom:8px">
      <div style="display:flex;gap:8px;justify-content:flex-end">
        <button id="saveBtn" class="micro">Entrar</button>
        <button id="closeBtn" class="micro">Fechar</button>
      </div>
    </div>
  </div>

<script>
  const STORAGE_KEY='alfeka_user_v1';
  function loadUser(){try{return JSON.parse(localStorage.getItem(STORAGE_KEY))}catch(e){return null}}
  function saveUser(u){localStorage.setItem(STORAGE_KEY,JSON.stringify(u))}
  function clearUser(){localStorage.removeItem(STORAGE_KEY)}
  function updateUI(){
    const u=loadUser();
    if(u){document.getElementById('userName').textContent=u.name;document.getElementById('userStatus').textContent='Online';document.getElementById('progressBar').style.width=(u.progress||0)+'%'}
    else{document.getElementById('userName').textContent='Visitante';document.getElementById('userStatus').textContent='Offline';document.getElementById('progressBar').style.width='12%'}
  }
  document.getElementById('btnOpen').addEventListener('click',()=>document.getElementById('modal').style.display='flex');
  document.getElementById('closeBtn').addEventListener('click',()=>document.getElementById('modal').style.display='none');
  document.getElementById('saveBtn').addEventListener('click',()=>{
    const name=document.getElementById('inputName').value.trim();
    if(!name){alert('Digite o nome');return}
    saveUser({name,role:'Aluno',progress:0,created:Date.now(),lastActivity:'Entrou'});
    document.getElementById('modal').style.display='none'; updateUI();
  });
  document.getElementById('btnLogout').addEventListener('click',()=>{if(confirm('Terminar sessão?')){clearUser();updateUI()}});
  document.getElementById('btnSeed').addEventListener('click',()=>{
    if(!loadUser()){ saveUser({name:'Alfredo Feka',role:'Instrutor',progress:34,created:Date.now(),lastActivity:'Demo seed'}); updateUI(); }
  });

  // Export inscritos CSV (gathers localStorage array inscritos_alfeika_v1)
  document.getElementById('btnExportCSV').addEventListener('click',()=>{
    let list = JSON.parse(localStorage.getItem('inscritos_alfeka_v1')||'[]');
    if(list.length===0){alert('Nenhum inscrito guardado localmente.'); return;}
    const rows=[['Nome','Email','Telefone','Curso','Data']];
    list.forEach(r=>rows.push([r.nome||'',r.email||'',r.telefone||'',r.curso||'',new Date(r.ts||0).toLocaleString()]));
    const csv = rows.map(r=>r.map(c=>`"${String(c).replace(/"/g,'""')}"`).join(',')).join('\n');
    const blob=new Blob([csv],{type:'text/csv'});const url=URL.createObjectURL(blob);
    const a=document.createElement('a');a.href=url;a.download='inscritos_alfeka.csv';document.body.appendChild(a);a.click();a.remove();URL.revokeObjectURL(url);
  });

  updateUI();
</script>
</body>
</html>
