<!-- =======================
  M√≥dulo Quinta-feira ‚Äì Discuss√£o em Grupo
  F√≥rum Acad√©mico
==========================-->

<section class="module">
  <header class="module-header">
    <h1>Quinta-feira ‚Äì Discuss√£o em Grupo<br>Debate sobre Conceitos Aprendidos</h1>
    <p class="objetivos">
      <strong>Objetivos:</strong> Promover um debate cient√≠fico e t√©cnico de alto n√≠vel, semelhante aos f√≥runs
      de universidades de refer√™ncia. Os alunos devem:
      <ul>
        <li>Revisitar conceitos dos 3 primeiros dias (fundamentos, normas, materiais).</li>
        <li>Aplic√°-los a <strong>situa√ß√µes reais de obra</strong> em constru√ß√£o met√°lica e offshore.</li>
        <li>Identificar <strong>riscos, materiais, processos e pr√°ticas de seguran√ßa</strong>.</li>
        <li>Contribuir com <strong>pelo menos 3 observa√ß√µes ou perguntas</strong> para fomentar o debate.</li>
      </ul>
    </p>
  </header>

  <!-- Simula√ß√£o de Cen√°rios de Obra -->
  <div class="content-block">
    <h2>Simula√ß√µes de Cen√°rios</h2>
    <p>Os grupos dever√£o escolher um ou mais cen√°rios para an√°lise:</p>
    <ol>
      <li><strong>Montagem de m√≥dulo offshore:</strong> identificar pontos cr√≠ticos de seguran√ßa, escolha de materiais e sequ√™ncias de trabalho.</li>
      <li><strong>Inspe√ß√£o de corros√£o:</strong> propor medidas de prote√ß√£o e manuten√ß√£o.</li>
      <li><strong>Remo√ß√£o de stiffeners deteriorados:</strong> planeamento de repara√ß√£o segura e conforme normas.</li>
      <li><strong>Integra√ß√£o de novos equipamentos:</strong> avaliar compatibilidade estrutural e operacional.</li>
    </ol>
  </div>

  <!-- F√≥rum Online -->
  <div class="content-block atividade">
    <h2>Atividade Interativa ‚Äì F√≥rum de Discuss√£o</h2>
    <p>Participe no f√≥rum abaixo: escreva as suas <strong>3 observa√ß√µes ou perguntas</strong> e interaja com os colegas,
       comentando ou votando nas contribui√ß√µes.</p>

    <!-- Formul√°rio de Postagem -->
    <div id="forum-form">
      <textarea id="forum-input" placeholder="Escreva aqui a sua observa√ß√£o ou pergunta..." maxlength="300"></textarea>
      <button id="post-button">Publicar</button>
    </div>

    <!-- Lista de Publica√ß√µes -->
    <div id="forum-posts">
      <!-- As mensagens aparecer√£o aqui -->
    </div>
  </div>

  <!-- Resumo e Notas -->
  <div class="resumo">
    <h2>Resumo</h2>
    <p>Este f√≥rum visa estimular o <strong>pensamento cr√≠tico</strong> e a <strong>colabora√ß√£o cient√≠fica</strong>,
      fundamentais na forma√ß√£o de profissionais em engenharia met√°lica e offshore.
      As discuss√µes simulam os desafios reais enfrentados em projetos e destacam a import√¢ncia da
      <strong>comunica√ß√£o interdisciplinar e do compliance</strong> com normas e seguran√ßa.</p>
  </div>
</section>

<!-- ======== CSS do Padr√£o ======== -->
<style>
  body {font-family: 'Roboto', sans-serif; background:#f6f7f8; color:#222;}
  .module {max-width: 900px; margin: 0 auto; padding: 20px;}
  .module-header {border-left: 5px solid #007b8f; padding-left:15px; margin-bottom:20px;}
  h1,h2 {color:#007b8f;}
  .content-block {background:#fff; padding:20px; margin-bottom:20px; border-radius:8px;}
  .atividade {background:#eef7fa;}
  .resumo {background:#fff3cd; padding:20px; border-radius:8px;}

  /* F√≥rum */
  #forum-form {display:flex; flex-direction:column; margin-bottom:20px;}
  #forum-input {min-height:80px; padding:10px; border:1px solid #007b8f; border-radius:5px; margin-bottom:10px; resize:vertical;}
  #post-button {align-self:flex-end; padding:8px 16px; border:none; border-radius:5px; background:#007b8f; color:#fff; cursor:pointer;}
  #post-button:hover {background:#005f6b;}

  #forum-posts {background:#fff; border:1px solid #ddd; padding:10px; border-radius:5px; max-height:400px; overflow-y:auto;}
  .post {border-bottom:1px solid #eee; padding:10px 5px;}
  .post:last-child {border-bottom:none;}
  .post-meta {font-size:0.85em; color:#555; margin-bottom:5px;}
  .post-text {margin-bottom:8px;}
  .vote-btn {cursor:pointer; background:none; border:none; font-size:0.9em; color:#007b8f; margin-right:10px;}
  .vote-btn:hover {text-decoration:underline;}
  .votes {font-weight:bold; color:#007b8f;}
</style>

<!-- ======== JS do F√≥rum ======== -->
<script>
const postButton = document.getElementById('post-button');
const forumInput = document.getElementById('forum-input');
const forumPosts = document.getElementById('forum-posts');

let posts = [];

function renderPosts() {
  forumPosts.innerHTML = '';
  posts.forEach((post, index) => {
    const postDiv = document.createElement('div');
    postDiv.classList.add('post');

    const metaDiv = document.createElement('div');
    metaDiv.classList.add('post-meta');
    metaDiv.textContent = `Publicado por Aluno ${post.user} ‚Ä¢ ${post.time}`;

    const textDiv = document.createElement('div');
    textDiv.classList.add('post-text');
    textDiv.textContent = post.text;

    const voteDiv = document.createElement('div');
    const upBtn = document.createElement('button');
    upBtn.textContent = `üëç`;
    upBtn.classList.add('vote-btn');
    upBtn.addEventListener('click', () => {
      posts[index].votes++;
      renderPosts();
    });

    const downBtn = document.createElement('button');
    downBtn.textContent = `üëé`;
    downBtn.classList.add('vote-btn');
    downBtn.addEventListener('click', () => {
      posts[index].votes--;
      renderPosts();
    });

    const voteCount = document.createElement('span');
    voteCount.textContent = `Votos: ${post.votes}`;
    voteCount.classList.add('votes');

    voteDiv.appendChild(upBtn);
    voteDiv.appendChild(downBtn);
    voteDiv.appendChild(voteCount);

    postDiv.appendChild(metaDiv);
    postDiv.appendChild(textDiv);
    postDiv.appendChild(voteDiv);

    forumPosts.appendChild(postDiv);
  });
}

postButton.addEventListener('click', () => {
  const text = forumInput.value.trim();
  if (text.length === 0) return;
  const timestamp = new Date().toLocaleString('pt-PT', { hour: '2-digit', minute:'2-digit', day:'2-digit', month:'2-digit' });
  
  posts.unshift({
    user: Math.floor(Math.random()*90+10), // Simula um ID de aluno
    time: timestamp,
    text: text,
    votes: 0
  });

  forumInput.value = '';
  renderPosts();
});

// Inicializa√ß√£o
renderPosts();
</script>
